@model IEnumerable<TejidosPaupiSoft.Models.InsumosXCompra>

@{
    ViewBag.Title = "Index";

}
@if (ViewBag.ElaboracionNro != null)
{
    <script type="text/javascript">
            window.onload = function () {
 alert("No es posible generar el borrrado. El insumo que deseas borrar ha sido utilizado en la Compra Nro @ViewBag.ElaboracionNro, para elaborar el producto @ViewBag.ProductoElaboracion.")
        }
    </script>
}


<div class="dashboard-wrapper">
    <div class="container-fluid  dashboard-content">

        <div class="row">

            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <div class="card">
                    <h5 class="card-header">Carga de Compra</h5>
                    <div class="card-body">
                        <dt>
                            Nro de Compra
                        </dt>

                        <dd>
                            @ViewBag.NroCompra
                        </dd>

                        <dt>
                            Fecha de Compra
                        </dt>

                        <dd>
                            @ViewBag.FechaCompra
                        </dd>

                        <dt>
                            Subtotal
                        </dt>

                        <dd>
                            @ViewBag.Subtotal
                        </dd>
                        <dt>
                            Descuento
                        </dt>

                        <dd>
                            @ViewBag.Descuentos
                        </dd>
                        <dt>
                            Total
                        </dt>

                        <dd>
                            @ViewBag.Total
                        </dd>
                        <dt>
                            Observaciones
                        </dt>

                        <dd>
                            @ViewBag.Observaciones

                        </dd>
                        </br>

                        <a href="/InsumosXCompras/PreviaCreate?IdCompraGenerada=@ViewBag.CompraId" id="BotonCrear" class="btn btn-rounded btn-outline-secondary">Agregar Insumo a la Compra</a>
                        <a href="/Compras/Edit/@ViewBag.CompraId" id="BotonCrear" class="btn btn-rounded btn-outline-secondary">Editar Datos de Compra</a>

                        <h4>Detalle de la compra</h4>
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered first">
                                <thead>
                                    <tr>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Insumos.Descripcion)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Cantidad)
                                        </th>
                                        <th>
                                            Unid. Medida
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Precio)
                                        </th>

                                        <th>Borrar</th>
                                    </tr>
                                <tbody>
                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Insumos.Descripcion)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Cantidad)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Insumos.TipoInsumo.UnidadMedida.Descripcion)
                                            </td>
                                            <td>
                                                $@Html.DisplayFor(modelItem => item.Precio)
                                            </td>



                                            <td>
                                                @Html.ActionLink("Borrar", "BorrarInsumo", new { id = item.Id })

                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>

                    </div>
                    <div class="form-group BotonVolverDetails">
                        <a href="/Compras" id="Cancelar" class="btn btn-rounded btn-outline-primary">Volver</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
